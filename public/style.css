/* style.css - responsive + mobile controls */

html, body { height:100%; margin:0; background:#061018; color:#d0e6ff; font-family: system-ui, sans-serif; -webkit-font-smoothing:antialiased; }
#ui { position: fixed; top: 8px; left: 8px; background: rgba(10,18,26,0.9); padding: 8px 10px; border-radius: 10px; box-shadow: 0 6px 20px rgba(0,0,0,.25); z-index:50; }
#ui .row { display:flex; align-items:center; gap:8px; margin-bottom:6px; }
#nick { background:#0f1720; color:#d0e6ff; border:1px solid #233041; border-radius:8px; padding:6px 8px; width:110px; }
button { background:#1b2a3c; color:#d0e6ff; border:1px solid #2d425c; border-radius:8px; padding:6px 10px; cursor:pointer; }
button:hover { filter:brightness(1.05); }

#hud { position: fixed; top: 8px; right: 8px; z-index: 50; display:flex; flex-direction:column; gap:8px; }
#scoreboard { background: rgba(10,18,26,0.85); padding:8px; border-radius:8px; min-width:140px; font-size:13px; }
.score-row { display:flex; justify-content:space-between; padding:4px 0; gap:8px; align-items:center; }
.player-dot { width:12px; height:12px; border-radius:50%; display:inline-block; margin-right:8px; }

#game-wrap { width:100%; height:100%; display:flex; align-items:center; justify-content:center; padding-top:60px; box-sizing:border-box; }
canvas { image-rendering: pixelated; background:#061018; display:block; }

/* touch controls: stable grid for portrait/landscape */
#touch-controls {
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 12px;
  z-index: 60;
  display: grid;
  grid-template-columns: 64px 64px 64px;
  grid-template-rows: 56px 56px;
  grid-template-areas:
    ". up ."
    "left down right";
  gap: 8px;
  align-items: center;
  justify-items: center;
  pointer-events: auto;
}

#btn-up { grid-area: up; }
#btn-left { grid-area: left; }
#btn-down { grid-area: down; }
#btn-right { grid-area: right; }

#touch-controls.hidden { display: none; }

#touch-controls .dir {
  width: 100%;
  height: 100%;
  min-width: 48px;
  min-height: 48px;
  border-radius: 10px;
  font-size: 20px;
  background: rgba(40,55,70,0.95);
  color: #d0e6ff;
  border: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  touch-action: manipulation;
  user-select: none;
}

/* keep some extra bottom padding for portrait so controls don't overlap critical UI */
@media (orientation: portrait) {
  #game-wrap { padding-bottom: 120px; }
}

/* allow slightly larger controls on very small screens */
@media (max-width: 420px) {
  #touch-controls { grid-template-columns: 56px 56px 56px; grid-template-rows: 56px 56px; gap:6px; }
}


#btn-up { grid-area: up; }
#btn-left { grid-area: left; }
#btn-down { grid-area: down; }
#btn-right { grid-area: right; }

#touch-controls.hidden { display: none; }

#touch-controls .dir {
  width: 100%;
  height: 100%;
  min-width: 48px;
  min-height: 48px;
  border-radius: 10px;
  font-size: 20px;
  background: rgba(40,55,70,0.95);
  color: #d0e6ff;
  border: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  touch-action: manipulation;
  user-select: none;
}


#overlay { position: fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:80; font-size:20px; color:#061018; }
#overlay.hidden { display:none; }

/* make canvas responsive: scale to viewport but keep aspect */
#game { max-width: calc(100vw - 24px); max-height: calc(100vh - 120px); }

/* make UI adapt for small screens */
@media (max-width: 640px) {
  #ui { left: 50%; transform: translateX(-50%); top: 8px; }
  #scoreboard { font-size:12px; min-width:120px; }
}
